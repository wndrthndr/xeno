
üöÄ Shopify Multi-Tenant Data Ingestion & Insights Platform

üåü Project Overview

This project is a multi-tenant analytics platform simulating Shopify data ingestion and delivering actionable business insights through a centralized, production-style dashboard. It is designed to reflect enterprise SaaS architecture, focusing heavily on tenant isolation, extensibility, and real-world engineering workflows.

Assignment

Xeno FDE Internship 2025

üéØ Objectives

Build a tenant-aware ingestion service for Shopify stores.

Enforce strict data isolation per tenant.

Compute core business insights using SQL aggregations.

Deliver insights via a production-style dashboard.

Design the system with enterprise extensibility in mind.

‚ú® Key Features

Feature Area

Details

Authentication

JWT-based login, Tenant ID embedded in the token payload, API security enforced via middleware.

Multi-Tenancy

Single database, multi-tenant architecture, ensuring logical tenant isolation via tenant_id scoped queries.

Analytics

Total customers, orders, and revenue; Orders by date time-series; Top 5 customers; Weekly and monthly revenue comparison.

Ingestion

Uses Shopify API for initial product/customer seeding, combined with local order generation for realistic scale simulation.

Deployment

Designed for cloud-hosted backend and frontend deployment.

üìê Architecture

Diagram

The system follows a classic three-tier architecture, emphasizing a clean data flow from source to presentation.

graph TD
    A[Shopify Dev Store] --> B(Ingestion Layer);
    B --> C(Node.js API);
    C --> D[MySQL Database];
    D --> E(React Dashboard);


Components

Name

Responsibility

Shopify Dev Store

Provides foundational data (products, customers) for realism.

Ingestion Layer

Seeds and simulates high-volume order data into the database.

API Layer (Node.js)

Exposes secure, tenant-aware analytics endpoints.

Database (MySQL)

Stores tenant-isolated order data.

Dashboard (React)

Displays metrics and analytics visually.

üõ†Ô∏è Setup & Local Development

Prerequisites

You will need Node.js, npm, and a running MySQL instance.

Environment Variables

Create a .env file in the backend directory with the following variables:

Key

Description

Example

SHOP

Your Shopify development store name (e.g., my-store-name)

my-store-name.myshopify.com

TOKEN

Shopify Admin API access token (required for seeding)

shpat_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

DB_HOST

Database connection host

localhost

DB_USER

Database username

root

DB_PASSWORD

Database password

mypassword

DB_NAME

Database name

shopify_analytics

JWT_SECRET

Secret key for JWT signing (use a strong random string)

a-very-secret-key

Backend (API Service)

The API service handles authentication and serves metrics.

cd backend
npm install
node server.js
# Default Port: 5000
# Local URL: http://localhost:5000


Frontend (Analytics Dashboard)

The React dashboard displays the fetched analytics.

cd frontend
npm install
npm run dev


üîí Authentication & Security

Token Structure (JWT)

The JWT payload enforces multi-tenancy at the application layer:

{
  "userId": "integer",
  "tenantId": "integer",
  "iat": 1678886400,
  "exp": 1678890000
}


Security Model

Token Validation Middleware: Ensures every incoming request has a valid, non-expired JWT.

Tenant-Scoped Queries: All database queries are automatically filtered using the tenantId extracted from the valid token, ensuring logical isolation.

üìä API Endpoints

Method

Path

Purpose

Security

POST

/auth/login

Authenticate user and return JWT token.

Public

GET

/api/metrics

Returns summary KPIs (Total Customers, Orders, Revenue).

Secured

GET

/api/orders

Fetches a list of all tenant orders.

Secured

GET

/api/orders-by-date

Returns time-series analytics for orders.

Secured

GET

/api/top-customers

Top 5 customers ranked by total spend.

Secured

GET

/api/revenue-compare

Calculates week-over-week or month-over-month revenue growth.

Secured

üóÑÔ∏è Database Schema (MySQL)

Table: orders

The multi-tenancy model relies on a discriminator column (tenant_id) within a single database table.

Name

Type

Description

id

integer

Primary key

shopify_order_id

string

External reference from Shopify

customer_name

string

Name of the customer

total_price

decimal

Revenue generated by the order

created_at

timaestamp

Order placement time

tenant_id

integer

Tenant scope identifier (Crucial for isolation)

Isolation Method

SQL Scoping: Every query executed against the orders table must include a WHERE tenant_id = ? clause, where ? is the ID extracted from the authenticated user's JWT.

‚ö†Ô∏è Assumptions & Known Limitations

Assumptions

One tenant maps to one Shopify store.

Authentication strictly uses JWT.

A single MySQL database is sufficient for the MVP.

Orders are generated locally to simulate scale and avoid API rate limits.

Known Limitations (MVP Scope)

Shopify Webhooks are not implemented (ingestion is pull/simulated only).

No scheduler or periodic sync mechanism exists.

No ORM is used (raw SQL queries used for simplicity).

Hardcoded demo users for demonstration purposes.

No comprehensive onboarding or self-service workflow.

No retry handling or circuit breakers are implemented.

No audit logging or advanced observability.

No role-based access control (RBAC).

üõ£Ô∏è Production Roadmap

Area

Future Steps

Ingestion

Implement Shopify webhooks for real-time updates, event replay mechanisms, and data validation pipeline.

Scaling

Introduce queue-based ingestion, background workers for long-running tasks, and horizontal scaling of the API layer.

Data Layer

Adopt an ORM (e.g., Sequelize, Prisma) and implement a database migration framework.

Security

Implement OAuth for secure tenant onboarding, JWT token rotation, and RBAC.

Observability

Integrate centralized logging, metrics dashboards, and critical alerts.

üí° Demo Topics

The demo will cover the following key areas:

Detailed architecture walkthrough.

Live demonstration of strict tenant isolation.

Dashboard feature walkthrough (KPIs and charts).

Discussion of engineering trade-offs made for the MVP.

Overview of the future roadmap and scaling plans.

üåê Deployment Status

Backend URL: ADD_DEPLOYED_BACKEND_URL

Frontend URL: ADD_DEPLOYED_FRONTEND_URL

üë§ Author & License

Author: Vishal Nukala

License: MIT
